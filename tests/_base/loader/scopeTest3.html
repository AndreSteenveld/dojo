<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>AMD require a then b</title>
    <script type="text/javascript">
      dojoConfig= {
        scopeMap:[
          ["dojo", ""],
          ["dijit", 0],
          ["dojox", 0]
        ]
      };
    </script>   
    <script type="text/javascript" src="../../../dojo.js"></script>
    <script type="text/javaScript">
      function check(cond) {
        if (!cond) {
          console.error("FAIL");
        } else {
          console.log("OK");
        }
      }
      
      check(typeof dojo=="undefined");
      check(typeof dijit=="undefined");
      check(typeof dojox=="undefined");

      require(["dojo", "dijit", "dojox"], function(dojo, dijit, dojox){
        for (var p in this) if (this[p]===dojo) check(false);
        check(dojo.dijit===dijit);
        check(dojo.dojox===dojox);
        check(/_dojo\d+/.test(dojo._scopeName))
        check(/_dijit\d+/.test(dijit._scopeName))
        check(/_dojox\d+/.test(dojox._scopeName))
        console.log(dojo._scopeName);
        console.log(dijit._scopeName);
        console.log(dojox._scopeName);
      });
    </script>
  </head>
  <body>
    <h1>Description</h1>
    <p>Check console for results.<p>
  </body>
</html>
